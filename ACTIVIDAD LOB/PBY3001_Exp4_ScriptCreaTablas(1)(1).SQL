DROP TABLE DETALLE_FACTURA;
DROP TABLE FACTURA;
DROP TABLE DETALLE_BOLETA;
DROP TABLE BOLETA;
DROP TABLE PROMOCION;
DROP TABLE PRODUCTO;
DROP TABLE UNIDAD_MEDIDA;
DROP TABLE PAIS;
DROP TABLE CLIENTE;
DROP TABLE CARGA_FAMILIARES;
DROP TABLE CURSO_VENDEDOR;
DROP TABLE VENDEDOR;
DROP TABLE FORMA_PAGO;
DROP TABLE BANCO;
DROP TABLE COMUNA;
DROP TABLE CIUDAD;
DROP TABLE CURSO;

DROP TABLE DETALLE_VENTA_MES;
DROP TABLE RESUMEN_VENTA_MES;
DROP TABLE PAGO_VENDEDOR;
DROP TABLE AUDITORIA_PRODUCTO;
DROP TABLE PORCENTAJE_COMISION;
DROP TABLE ERROR_CALC;
DROP TABLE DETALLE_VENTA_MES_VENDEDOR;


DROP SEQUENCE SEQ_AUDIT;
DROP SEQUENCE seq_error;


Prompt ******  CREANDO TABLA CIUDAD ....

CREATE TABLE CIUDAD  
(
 CODCIUDAD 	NUMBER (2), 
 DESCRIPCION 	VARCHAR2(30)
);

ALTER TABLE CIUDAD 
    ADD CONSTRAINT COD_CIUDAD_PK PRIMARY KEY (CODCIUDAD);


Prompt ******  CREANDO TABLA COMUNA ....

CREATE TABLE COMUNA
(
 CODCOMUNA 	NUMBER (2), 
 DESCRIPCION 	VARCHAR2(30),
 CODCIUDAD 	NUMBER(2)
);

ALTER TABLE COMUNA 
    ADD CONSTRAINT COD_COMUNA_PK PRIMARY KEY (CODCOMUNA);

ALTER TABLE COMUNA 
    ADD CONSTRAINT COD_CIUDAD_FK FOREIGN KEY (CODCIUDAD) REFERENCES CIUDAD (CODCIUDAD);


Prompt ******  CREANDO TABLA CLIENTE ....

CREATE TABLE CLIENTE
(
  ID_CLIENTE  		NUMBER(2),	
  RUTCLIENTE  		VARCHAR2(10),
  NOMBRE      		VARCHAR2(30),
  DIRECCION   		VARCHAR2(30),
  CODCOMUNA   		NUMBER (2),
  TELEFONO    		NUMBER(10),
  ESTADO      		VARCHAR2(1),
  MAIL			VARCHAR2(50),
  CREDITO     		NUMBER (7),
  SALDO       		NUMBER (7)
);

ALTER TABLE CLIENTE
    ADD CONSTRAINT RUT_CLIENTE_PK
    PRIMARY KEY (RUTCLIENTE);

ALTER TABLE CLIENTE
    ADD CONSTRAINT ESTADO_CLIENTE_CK
    CHECK (ESTADO IN ('A', 'B') );

ALTER TABLE CLIENTE 
    ADD CONSTRAINT COD_COMUNA_FK 
    FOREIGN KEY (CODCOMUNA) REFERENCES COMUNA (CODCOMUNA);


Prompt ******  CREANDO TABLA CURSO ....
CREATE TABLE CURSO
(
 CODCURSO   	NUMBER (2), 
 NOMCURSO 	  VARCHAR2(30),
 CANT_HORAS 	NUMBER(2)
);

ALTER TABLE CURSO
    ADD CONSTRAINT CODCURSO_PK
    PRIMARY KEY (CODCURSO);


Prompt ******  CREANDO TABLA VENDEDOR ....

CREATE TABLE VENDEDOR
(
  ID_VENDEDOR		NUMBER(2),	
  RUTVENDEDOR 		VARCHAR2(10),
  NOMBRE      		VARCHAR2(30),
  DIRECCION   		VARCHAR2(30),
  CODCOMUNA   		NUMBER (2),
  TELEFONO    		NUMBER(10),
  MAIL			VARCHAR2(50),
  SUELDO_BASE		NUMBER(8),
  COMISION		NUMBER(2,2)
);

ALTER TABLE VENDEDOR
    ADD CONSTRAINT RUT_VENDEDOR_PK
    PRIMARY KEY (RUTVENDEDOR);

ALTER TABLE VENDEDOR 
    ADD CONSTRAINT VENDEDOR_COD_COMUNA_FK 
    FOREIGN KEY (CODCOMUNA) REFERENCES COMUNA (CODCOMUNA);

Prompt ******  CREANDO TABLA CARGA_FAMILIARES ....

CREATE TABLE CARGA_FAMILIARES
(
  RUTVENDEDOR 		VARCHAR2(10),
  RUTCARGAFAM 		VARCHAR2(10),
  NOMCARGA     		VARCHAR2(100),
  FECHA_NAC       DATE,
  TELEFONO    		NUMBER(10),
  MAIL		      	VARCHAR2(50),
  ASIG_FAMILIAR   NUMBER(8)
);

ALTER TABLE CARGA_FAMILIARES 
      ADD CONSTRAINT CARGA_FAM_PK 
      PRIMARY KEY (RUTVENDEDOR, RUTCARGAFAM);

ALTER TABLE CARGA_FAMILIARES 
    ADD CONSTRAINT CARGA_FAMILIARES_FK 
    FOREIGN KEY (RUTVENDEDOR) REFERENCES VENDEDOR (RUTVENDEDOR);


Prompt ******  CREANDO TABLA CURSO_VENDEDOR ....
CREATE TABLE  CURSO_VENDEDOR 
   (
    RUTVENDEDOR	  VARCHAR2(10),
    CODCURSO 	    NUMBER(2), 
    CANT_HORAS    NUMBER(2),
    FECHA_DESDE   DATE,
    FECHA_HASTA   DATE,
    ESTADO_APROB  VARCHAR2(2)
   );

ALTER TABLE CURSO_VENDEDOR 
      ADD CONSTRAINT CURSO_VENDEDOR_PK 
      PRIMARY KEY (RUTVENDEDOR,CODCURSO);

ALTER TABLE CURSO_VENDEDOR 
    ADD CONSTRAINT CURSO_VENDEDOR_CUR_FK 
    FOREIGN KEY (CODCURSO) REFERENCES CURSO (CODCURSO);

ALTER TABLE CURSO_VENDEDOR 
    ADD CONSTRAINT CURSO_VENDEDOR_VEND_FK 
    FOREIGN KEY (RUTVENDEDOR) REFERENCES VENDEDOR (RUTVENDEDOR);
    

Prompt ******  CREANDO TABLA UNIDAD_MEDIDA ....

CREATE TABLE  UNIDAD_MEDIDA 
   (
    CODUNIDAD 	VARCHAR2(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE UNIDAD_MEDIDA 
      ADD CONSTRAINT COD_UNIDAD_PK 
      PRIMARY KEY (CODUNIDAD);


Prompt ******  CREANDO TABLA PAIS ....

CREATE TABLE  PAIS 
   (
    CODPAIS 	NUMBER(2), 
    NOMPAIS	VARCHAR2(30) 
   );

ALTER TABLE PAIS 
      ADD CONSTRAINT PAIS_PK 
      PRIMARY KEY (CODPAIS);

Prompt ******  CREANDO TABLA PRODUCTO ....

CREATE TABLE  PRODUCTO 
   (
    CODPRODUCTO  	NUMBER(3), 
    DESCRIPCION   	VARCHAR2(40), 
    CODUNIDAD     	VARCHAR2(2), 
    CODCATEGORIA    	VARCHAR2(1), 
    VUNITARIO    		NUMBER(8), 
    VALORCOMPRAPESO    	NUMBER(8), 
    VALORCOMPRADOLAR   NUMBER(8,2), 
    TOTALSTOCK   	NUMBER (5),
    STKSEGURIDAD  	NUMBER (5),    
    PROCEDENCIA   	VARCHAR2(1),
    CODPAIS		NUMBER(2),
    CODPRODUCTO_REL	NUMBER(3)
   );

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_PROD_PK 
      PRIMARY KEY (CODPRODUCTO);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_UNIDAD_FK 
      FOREIGN KEY (CODUNIDAD) REFERENCES UNIDAD_MEDIDA (CODUNIDAD);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_PAIS_FK 
      FOREIGN KEY (CODPAIS) REFERENCES PAIS (CODPAIS);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT CODPRODUCTO_REL_FK 
      FOREIGN KEY (CODPRODUCTO_REL) REFERENCES PRODUCTO (CODPRODUCTO);



Prompt ******  CREANDO TABLA PROMOCION ....

CREATE TABLE  PROMOCION 
   (
    CODPROMOCION  	NUMBER (4), 
    DESCRI_PROM   	VARCHAR2(60), 
    FECHA_DESDE		DATE,
    FECHA_HASTA		DATE,
    CODPRODUCTO	    NUMBER(3), 
    PORC_DSCTO_PROD	NUMBER(4,2),
    CODPRODUCTO_REL NUMBER(3)
   );

ALTER TABLE PROMOCION 
      ADD CONSTRAINT CODPROMOCION_PK 
      PRIMARY KEY (CODPROMOCION);

ALTER TABLE PROMOCION 
      ADD CONSTRAINT CODPRODUCTO_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);


Prompt ******  CREANDO TABLA FORMA_PAGO ....

CREATE TABLE  FORMA_PAGO 
   (
    CODPAGO 	NUMBER(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE FORMA_PAGO 
      ADD CONSTRAINT CODPAGO_PK 
      PRIMARY KEY (CODPAGO);


Prompt ******  CREANDO TABLA BANCO ....

CREATE TABLE  BANCO 
   (
    CODBANCO 	NUMBER(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE BANCO 
      ADD CONSTRAINT CODBANCO_PK 
      PRIMARY KEY (CODBANCO);



Prompt ******  CREANDO TABLA FACTURA ....

CREATE TABLE FACTURA
(
  NUMFACTURA  		NUMBER(7),
  RUTCLIENTE  		VARCHAR2(10),
  RUTVENDEDOR     	VARCHAR2(10),
  FECHA       		DATE,
  F_VENCIMIENTO	DATE,
  NETO        		NUMBER (7),	
  IVA         		NUMBER (7),
  TOTAL       		NUMBER (7),
  CODBANCO		NUMBER(2),
  CODPAGO		NUMBER(2),
  NUM_DOCTO_PAGO	VARCHAR2(30),
  ESTADO      		VARCHAR2(2)
);

ALTER TABLE FACTURA 
      ADD CONSTRAINT NUMFACTURA_PK 
      PRIMARY KEY (NUMFACTURA);

ALTER TABLE FACTURA 
      ADD CONSTRAINT RUTCLIENTE_FK 
      FOREIGN KEY (RUTCLIENTE) REFERENCES CLIENTE (RUTCLIENTE);

ALTER TABLE FACTURA 
      ADD CONSTRAINT RUTVENDEDOR_FK 
      FOREIGN KEY (RUTVENDEDOR) REFERENCES VENDEDOR (RUTVENDEDOR);

ALTER TABLE FACTURA 
      ADD CONSTRAINT CODPAGO_FK 
      FOREIGN KEY (CODPAGO) REFERENCES FORMA_PAGO (CODPAGO);

ALTER TABLE FACTURA 
      ADD CONSTRAINT CODBANCO_FK 
      FOREIGN KEY (CODBANCO) REFERENCES BANCO (CODBANCO);

ALTER TABLE FACTURA
      ADD CONSTRAINT ESTADO_FACTURA_CK
      CHECK (ESTADO IN ('EM', 'PA','NC') );


Prompt ******  CREANDO TABLA DETALLE_FACTURA ....

CREATE TABLE DETALLE_FACTURA 
   (
    NUMFACTURA 	NUMBER (7), 
    CODPRODUCTO 	NUMBER (3), 
    VUNITARIO    		NUMBER(8),  
    CODPROMOCION	NUMBER (4),
    DESCRI_PROM   	VARCHAR2(60), 
    DESCUENTO		NUMBER(8),
    CANTIDAD 		NUMBER (5), 
    TOTALLINEA 		NUMBER(8)
   );

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT DET_FACT_PK 
      PRIMARY KEY (NUMFACTURA, CODPRODUCTO);

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT COD_PROD_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);


ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT NUM_FACT_FK 
      FOREIGN KEY (NUMFACTURA) REFERENCES FACTURA (NUMFACTURA);

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT CODPROMOCION_FK 
      FOREIGN KEY (CODPROMOCION) REFERENCES PROMOCION (CODPROMOCION);



Prompt ******  CREANDO TABLA BOLETA ....

CREATE TABLE BOLETA
(
  NUMBOLETA  		NUMBER(7),
  RUTCLIENTE  		VARCHAR2(10),
  RUTVENDEDOR     	VARCHAR2(10),
  FECHA       		DATE,
  TOTAL       		NUMBER (7),
  CODPAGO		NUMBER(2),
  CODBANCO		NUMBER(2),
  NUM_DOCTO_PAGO	VARCHAR2(30),
  ESTADO      		VARCHAR2(2)
);

ALTER TABLE BOLETA 
      ADD CONSTRAINT NUMBOLETA_PK 
      PRIMARY KEY (NUMBOLETA);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_RUTCLIENTE_FK 
      FOREIGN KEY (RUTCLIENTE) REFERENCES CLIENTE (RUTCLIENTE);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_RUTVENDEDOR_FK 
      FOREIGN KEY (RUTVENDEDOR) REFERENCES VENDEDOR (RUTVENDEDOR);

     
ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_CODPAGO_FK 
      FOREIGN KEY (CODPAGO) REFERENCES FORMA_PAGO (CODPAGO);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_CODBANCO_FK 
      FOREIGN KEY (CODBANCO) REFERENCES BANCO (CODBANCO);

ALTER TABLE BOLETA
      ADD CONSTRAINT BOL_ESTADO_BOLETA_CK
      CHECK (ESTADO IN ('EM', 'PA','NC') );


Prompt ******  CREANDO TABLA DETALLE_BOLETA ....

CREATE TABLE DETALLE_BOLETA 
   (
    NUMBOLETA	 	NUMBER (7), 
    CODPRODUCTO 	NUMBER (3), 
    VUNITARIO    		NUMBER(8),  
    CODPROMOCION	NUMBER (4),
    DESCRI_PROM   	VARCHAR2(60), 
    DESCUENTO		NUMBER(8),
    CANTIDAD 		NUMBER (5), 
    TOTALLINEA 		NUMBER(8)
   );

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOLETA_PK 
      PRIMARY KEY (NUMBOLETA, CODPRODUCTO);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_CODPRODUCTO_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_NUM_BOLETA_FK 
      FOREIGN KEY (NUMBOLETA) REFERENCES BOLETA (NUMBOLETA);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_CODPROMOCION_FK 
      FOREIGN KEY (CODPROMOCION) REFERENCES PROMOCION (CODPROMOCION);


Prompt ******  CREANDO SECUENCIA SEQ_AUDIT ....

create sequence SEQ_AUDIT
minvalue 1
maxvalue 9999999999
increment by 1;

Prompt ******  CREANDO SECUENCIA SEQ_ERROR ....

create sequence SEQ_ERROR
minvalue 1
maxvalue 9999999999
increment by 1;



Prompt ******  CREANDO AUDITORIA_PRODUCTO ....

CREATE TABLE AUDITORIA_PRODUCTO
(
     ID_AUDIT NUMBER(6),
     CODPRODUCTO NUMBER(3),
     DESCRIPCION VARCHAR2(40),
     PROCEDENCIA VARCHAR2(1),
     VALOR_UNITARIO_ANT NUMBER(8,2),
     VALOR_UNITARIO_NVO NUMBER(8,2),
     FECHA_AUDIT DATE
);

Prompt ******  CREANDO DETALLE_VENTA_MES ....

CREATE TABLE DETALLE_VENTA_MES 
(
 TIPO_DOCTO         	VARCHAR2(3),
 NUMDOCUMENTO   	NUMBER(7),
 FECHA         		DATE,
 NOMCLIENTE 		VARCHAR2(30),
 NETO        		NUMBER(8,2),
 IVA        		NUMBER(8,2),
 TOTAL        		NUMBER(8,2)
);


Prompt ******  CREANDO TABLA RESUMEN_VENTA_MES ....

CREATE TABLE RESUMEN_VENTA_MES 
(
 RUTVENDEDOR        VARCHAR2(10),
 MES_ANNO     		  VARCHAR2(10),
 TIPO_DOCTO        	VARCHAR2(3),
 CANT_TOTAL_DOCTO	  NUMBER(8),
 MONTO_NETO_TOTAL   NUMBER(8),
 MONTO_IVA_TOTAL   	NUMBER(8),
 MONTO_TOTAL	    	NUMBER(8),
 COMISION           NUMBER(2,2),
 TOT_COMISION       NUMBER(8),
 BONO_META          NUMBER(8),
 TOT_PAGO_MES       NUMBER(8)
);


Prompt ******  CREANDO TABLA PAGO_VENDEDOR ....

CREATE TABLE PAGO_VENDEDOR 
(
 MES_ANNO   		VARCHAR2(10),
 RUTVENDEDOR    	VARCHAR2(10),
 NOMVENDEDOR    	VARCHAR2(30),
 SUELDO_BASE    		NUMBER(8),
 COMISION_MES  		NUMBER(8),
 COLACION       		NUMBER(8),
 MOVILIZACION   	NUMBER(8),
 PREVISION      		NUMBER(8),
 SALUD          		NUMBER(8),
 TOTAL_PAGAR    	NUMBER(8) 
);


Prompt ******  CREANDO TABLA PORCENTAJE_COMISION ....

CREATE TABLE PORCENTAJE_COMISION
(
 NRO_TRAMO		NUMBER(1) NOT NULL,
 SUELDO_BASE_INF	NUMBER(8) NOT NULL,
 SUELDO_BASE_SUP   	NUMBER(8) NOT NULL,
 PORC_COMISION		NUMBER(4,2) NOT NULL
 );

ALTER TABLE PORCENTAJE_COMISION 
      ADD CONSTRAINT PK_PORCENTAJE_COMISION 
      PRIMARY KEY (NRO_TRAMO);


Prompt ******  CREANDO TABLA ERROR_CALC ....

CREATE TABLE ERROR_CALC
(
 CORREL_ERROR      	NUMBER(5) NOT NULL,
 RUTINA_ERROR		VARCHAR2(80) NOT NULL,
 DESCRIP_ERROR		VARCHAR2(200) NOT NULL
 ); 

ALTER TABLE ERROR_CALC 
      ADD CONSTRAINT PK_ERROR_CALC 
      PRIMARY KEY (CORREL_ERROR);


Prompt ******  CREANDO TABLA DETALLE_VENTA_MES_VENDEDOR ....

CREATE TABLE DETALLE_VENTA_MES_VENDEDOR 
(
 FECHA         		  	    DATE,
 TIPO_DOCTO         		VARCHAR2(3),
 NUM_DOCTO          		NUMBER(7),
 TOTAL_DOCTO   		        NUMBER(8,2),
 RUTVENDEDOR   		        VARCHAR2(10),
 COMISION_VENDEDOR  		NUMBER(2,2),
 TOTAL_COMISION     		NUMBER(8,2)
);


Prompt ******  INSERTANDO DATOS ....

INSERT INTO CIUDAD VALUES (1,'ARICA');
INSERT INTO CIUDAD VALUES (2,'IQUIQUE');
INSERT INTO CIUDAD VALUES (3,'CALAMA');
INSERT INTO CIUDAD VALUES (4,'ANTOFAGASTA');
INSERT INTO CIUDAD VALUES (5,'COPIAPO');
INSERT INTO CIUDAD VALUES (6,'LA SERENA');
INSERT INTO CIUDAD VALUES (7,'VALPARAISO');
INSERT INTO CIUDAD VALUES (8,'SANTIAGO');
INSERT INTO CIUDAD VALUES (9,'RANCAGUA');
INSERT INTO CIUDAD VALUES (10,'TALCA');
INSERT INTO CIUDAD VALUES (11,'CONCEPCION');
INSERT INTO CIUDAD VALUES (12,'TEMUCO');
INSERT INTO CIUDAD VALUES (13,'VALDIVIA');
INSERT INTO CIUDAD VALUES (14,'OSORNO');
INSERT INTO CIUDAD VALUES (15,'PTO. MONTT');
INSERT INTO CIUDAD VALUES (16,'COYHAIQUE');
INSERT INTO CIUDAD VALUES (17,'PTA. ARENAS');

INSERT INTO COMUNA VALUES (1,'VITACURA',8);
INSERT INTO COMUNA VALUES (2,'ÑUÑOA',8);
INSERT INTO COMUNA VALUES (3,'PEÑALOLEN',8);
INSERT INTO COMUNA VALUES (4,'SANTIAGO',8);
INSERT INTO COMUNA VALUES (5,'VALDIVIA',13);
INSERT INTO COMUNA VALUES (6,'EL LOA',3);
INSERT INTO COMUNA VALUES (7,'CHILLAN',11);
INSERT INTO COMUNA VALUES (8,'PROVIDENCIA',8);
INSERT INTO COMUNA VALUES (9,'PTO.SAAVEDRA',14);

INSERT INTO FORMA_PAGO VALUES (1,'EFECTIVO');
INSERT INTO FORMA_PAGO VALUES (2,'TARJETA DEBITO');
INSERT INTO FORMA_PAGO VALUES (3,'TARJETA CREDITO');
INSERT INTO FORMA_PAGO VALUES (4,'CHEQUE');

INSERT INTO BANCO VALUES (1,'CHILE');
INSERT INTO BANCO VALUES (2,'SANTANDER');
INSERT INTO BANCO VALUES (3,'BCI');
INSERT INTO BANCO VALUES (4,'CORP BANCA');
INSERT INTO BANCO VALUES (5,'BBVA');
INSERT INTO BANCO VALUES (6,'SCOTIBANK');
INSERT INTO BANCO VALUES (7,'SECURITY');

INSERT INTO UNIDAD_MEDIDA VALUES ('UN','UNITARIO');
INSERT INTO UNIDAD_MEDIDA VALUES ('LT','LITRO');
INSERT INTO UNIDAD_MEDIDA VALUES ('MT','METRO');

INSERT INTO PAIS VALUES (1,'CHILE');
INSERT INTO PAIS VALUES (2,'EEUU');
INSERT INTO PAIS VALUES (3,'INGLATERRA');
INSERT INTO PAIS VALUES (4,'ALEMANIA');
INSERT INTO PAIS VALUES (5,'FRANCIA');
INSERT INTO PAIS VALUES (6,'CANADA');
INSERT INTO PAIS VALUES (7,'ARGENTINA');
INSERT INTO PAIS VALUES (8,'BRASIL');

insert into cliente values (1,'6245678-1','JUAN LOPEZ','ALAMEDA 6152',8,96644123,'A','JLOPEZ@GMAIL.COM',1000000,696550);
insert into cliente values (2,'7812354-2','MARIA SANTANDER','APOQUINDO 9093',8,961682456,'A','MSANTANDER@HOTMAIL.COM',1000000,819120);
insert into cliente values (3,'9912478-3','SIGIFRIDO SILVA','BILBAO 6200',8,55877315,'B','SSILVA@GMAIL.COM',1500000,0);
insert into cliente values (4,'14456789-4','OSCAR LARA','ALAMEDA 960',NULL,79888222,'A','OLARA@GMAIL.COM',2500000,2000000);
insert into cliente values (5,'11245678-5','MARCO ITURRA','ALAMEDA 1056',8,94577804,'A','MITURRA@YAHOO.COM',3000000,2332410);
insert into cliente values (6,'6467708-6','MARIBEL SOTO','VICUÑA MACKENNA 4555',4,95514545,'A','MSOTO@GMAIL.COM',1800000,1200000);
insert into cliente values (7,'10125945-7','SABINA VERGARA','AV. LA FLORIDA 15554 ',4,88656285,'A','SVERGARA@GMAIL.COM',500000,150000);
insert into cliente values (8,'8125781-8','PATRICIA FUENTES','IRARRAZABAL 5452',2,74545904,'A','PFUENTES@HOTMAIL.COM',450000,50000);
insert into cliente values (9,'13746912-9','ABRAHAM IGLESIAS','ALAMEDA 454',4,91452303,'A','AIGLESIAS@YAHOO.COM',100000,90000);
insert into cliente values (10,'5446780-0','CARLOS MENDOZA','PANAMERICANA 152',1,95754782,'A','CMENDOZA@GMAIL.COM',800000,550000);
insert into cliente values (11,'10812874-0','LIDIA FUENZALIDA','PROVIDENCIA 4587 ',NULL,78544452,'A','LFUENZALIDA@GMAIL.COM',1900000,790000);

insert into CURSO values (1,'TECNICA DE VENTA',15);
insert into CURSO values (2,'SERVICIO AL CLIENTE',25);
insert into CURSO values (3,'MARKETING AVANZADO',20);
insert into CURSO values (4,'VENTA ELECTRÓNICA',20);
insert into CURSO values (5,'MANEJO DE CONFLICTO',18);
insert into CURSO values (6,'TRABAJO EN EQUIPO',22);

insert into VENDEDOR values (1,'12456778-1','LEOPOLDO ROJAS','ALAMEDA 6152',1,44644123,'LROJAS@GMAIL.COM',240000,0.1);
insert into VENDEDOR values (2,'10712354-2','MARIO SOTO ','APOQUINDO 9093',2,651682456,'MSOTO@HOTMAIL.COM',265000,0.2);
insert into VENDEDOR values (3,'11124678-3','SALVADOR ALVARADO','BILBAO 6200',3,65877315,'SALVARADO@GMAIL.COM',250000,0.3);
insert into VENDEDOR values (4,'10456789-4','LUIS MUÑOZ','ALAMEDA 960',4,96888222,'LMUNOZ@GMAIL.COM',265000,0.4);

INSERT INTO CARGA_FAMILIARES VALUES ('10712354-2','20654873-1','MARIA SOTO SANTAMARIA',TO_DATE('10-05-2005'),NULL,NULL,null);
INSERT INTO CARGA_FAMILIARES VALUES ('10712354-2','19654873-K','JUAN MANUEL SOTO SANTAMARIA',TO_DATE('22-09-2004'),NULL,NULL,null);
INSERT INTO CARGA_FAMILIARES VALUES ('10456789-4','21534765-2','JOSE ANTONIO MUÑOZ LOPEZ',TO_DATE('21-07-2009'),NULL,NULL,null);
INSERT INTO CARGA_FAMILIARES VALUES ('11124678-3','22475000-7','PATRICIA ALVARADO GONZALEZ',TO_DATE('17-08-201'),NULL,NULL,null);


INSERT INTO PRODUCTO VALUES (1, 'AMALIE ELIXIR FULL SYNTHETIC SAE 5W-30'			,'LT','P',25000,4000,7.42,100,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (2, 'CASTROL EDGE USA 5W-30 6 QUARTS'			,'LT','P',12500,8890,8.87,90,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (3, 'CASTROL EDGE 0W-30 946'				,'LT','P',10000,7990,7.09,54,5,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (4, 'LIQUI MOLY TOURING HIGH TECH 15W-40'			,'LT','P',8500,6770.5,07,40,4,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (5, 'HYUNDAI XTEER G7000 10W-40'				,'LT','P',4950,3950,4.03,40,4,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (6, 'MOBIL SUPER S 2000 10W-40 GASOLINA'			,'LT','P',7850,5679,7.98,60,6,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (7, 'ROYAL PURPLE 5W-30 HIGH PERFORMANCE 946'		,'LT','P',11990,9500,9.77,87,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (8, 'VALVOLINE SYNPOWER SAE 5W-40'			,'LT','P',12500,10890,12.76,60,6,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (9, 'YPF ELAION F10 SAE 15W-40'				,'LT','P',18990,15000,17.85,18,5,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (10,'Filtro Aceite Navara New'					,'UN','P',2500,1500,2.01,100,10,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (11,'Filtro Aceite Motorcraft 1990'				,'UN','P',1850,1200,1.6,150,15,'I',7,NULL);
INSERT INTO PRODUCTO VALUES (12,'Filtro De Aceite Np300 Diesel Original'			,'UN','P',15000,11000,15.64,70,7,'I',7,NULL);
INSERT INTO PRODUCTO VALUES (13,'Filtro Aceite Motorcraft Fl-910-s'				,'UN','P',9000,6400,8.15,69,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (14,'Filtro De Aceite Bmw Hengst 61hd215'			,'UN','P',17980,13980,15.85,35,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (15,'ADITIVO AUMENTADOR DE OCTANAJE 473'		,'UN','P',12990,9000,8.77,20,2,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (16,'ADITIVO ROYAL PURPLE MAX-CLEAN 177'			,'UN','P',6990,5000,5.50,54,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (17,'HIGH PERFORMANCE valvoline 80W90'			,'UN','P',5990,3800,4.66,34,7,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (18,'SYNPOWER FS 75W90 valvoline GEAR OIL'			,'UN','P',12990,7800,6.80,25,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (19,'AGUA DESTILADA BOSQUE VERDE 5 LTS'			,'LT','P',2000,1000,NULL,200,20,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (20,'AGUA DESTILADA TRIBUNO 5 LTS'				,'LT','P',2500,1200,NULL,90,9,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (21,'AGUA DESTILADA TRIBUNO 1 LT'				,'LT','P',700,480,NULL,100,10,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (22,'CAMBIO PASTILLAS FRENO NISSAN V16'			,'UN','S',21900,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (23,'CAMBIO PASTILLAS FRENO TOYOTA YARIS'			,'UN','S',25000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (24,'CAMBIO PASTILLAS FRENO CHEVROLET CORSA'		,'UN','S',27000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (25,'CAMBIO PASTILLAS FRENO SUZUKI ALTO'			,'UN','S',23990,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (26,'CAMBIO PASTILLAS RENO SUZUKI MARUTI'			,'UN','S',19900,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (27,'LAVADO DE CARROCERIA'				,'UN','S',10000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (28,'LIMPIEZA DE INYECTORES'				,'UN','S',9000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (29,'CAMBIO DE BUJIAS'					,'UN','S',18500,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (30,'FILTRO DE AIRE'					,'UN','S',5990,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (31,'LAVADO DE TAPIZ'					,'UN','S',15000,NULL,NULL,NULL,NULL,'N',1,NULL);


UPDATE PRODUCTO 
SET CODPRODUCTO_REL = 11
WHERE CODPRODUCTO <=9;

UPDATE PRODUCTO
SET CODPRODUCTO_REL = 27
WHERE (CODPRODUCTO >=22) AND (CODPRODUCTO <=26);

INSERT INTO PROMOCION VALUES (100,'FILTRO DE ACEITE GRATIS AMALIE',to_date('01-01-2017'),to_date('28-02-2017'),1,0,11);
INSERT INTO PROMOCION VALUES (101,'FILTRO DE ACEITE GRATIS EDGE USA',to_date('01-01-2017'),to_date('30-05-2017'),2,0,11);
INSERT INTO PROMOCION VALUES (102,'FILTRO DE ACEITE GRATIS CASTROL',to_date('01-01-2017'),to_date('30-05-2017'),3,0,11);
INSERT INTO PROMOCION VALUES (103,'FILTRO DE ACEITE GRATIS LIQUI MOLY',to_date('01-01-2017'),to_date('30-05-2017'),4,0,11);
INSERT INTO PROMOCION VALUES (104,'FILTRO DE ACEITE GRATIS HYUNDAI XTEER',to_date('01-01-2017'),to_date('30-05-2017'),5,0,11);
INSERT INTO PROMOCION VALUES (105,'FILTRO DE ACEITE GRATIS MOBIL SUPER'	,to_date('01-01-2017'),to_date('30-05-2017'),6,0,11);
INSERT INTO PROMOCION VALUES (106,'FILTRO DE ACEITE GRATIS ROYAL PURPLE',to_date('01-01-2017'),to_date('30-05-2017'),7,0,11);
INSERT INTO PROMOCION VALUES (107,'FILTRO DE ACEITE GRATIS VALVOLINE',to_date('01-01-2017'),to_date('30-05-2017'),8,0,11);
INSERT INTO PROMOCION VALUES (108,'FILTRO DE ACEITE GRATIS YPF ELAION',to_date('01-01-2017'),to_date('30-05-2017'),9,0,11);
INSERT INTO PROMOCION VALUES (109,'CAMBIO PASTILLA FRENO NISSAN V16, LAVADO GRATIS',to_date('01-01-2017'),to_date('30-05-2017'),22,0,27);
INSERT INTO PROMOCION VALUES (110,'CAMBIO PASTILLA FRENO TOYOTA YARIS, LAVADO GRATIS',to_date('01-01-2017'),to_date('30-05-2017'),23,0,27);
INSERT INTO PROMOCION VALUES (111,'CAMBIO PASTILLA FRENO CHEVROLET CORSA, LAVADO GRATIS',to_date('01-01-2017'),to_date('30-05-2017'),24,0,27);
INSERT INTO PROMOCION VALUES (112,'CAMBIO PASTILLA FRENO SUZUKI ALTO, LAVADO GRATIS'	,to_date('01-01-2017'),to_date('30-05-2017'),25,0,27);
INSERT INTO PROMOCION VALUES (113,'CAMBIO PASTILLA FRENO SUZUKI MARUTI, LAVADO GRATIS',to_date('01-01-2017'),to_date('30-05-2017'),26,0,27);



insert into factura values (11520,'6245678-1','12456778-1',to_date('02/01/2017'),to_date('02/02/2017'),100000,19000,119000,1,4,'178904', 'EM');
insert into factura values (11521,'7812354-2','10712354-2',to_date('02/01/2017'),NULL,149000,28310,177310,NULL,1,NULL,'EM');
insert into factura values (11522,'9912478-3','12456778-1',to_date('03/02/2017'),NULL,209400,39786,249186,2,3,NULL,'PA');
insert into factura values (11523,'14456789-4','11124678-3',to_date('04/02/2017'),NULL,37500,7125,44625,NULL,1,NULL,'EM');
insert into factura values (11524,'11245678-5','11124678-3',to_date('15/02/2017'),NULL,58455,11606,69561,2,4,NULL,'EM');
insert into factura values (11525,'6467708-6','12456778-1',to_date('16/02/2017'),'16/03/2017',30000,5700,35700,2,4,'8904865', 'EM');
insert into factura values (11526,'10125945-7','10456789-4',to_date('17/02/2017'),NULL,29700,5643,35343,2,3,NULL,'PA');
insert into factura values (11527,'8125781-8','10712354-2',to_date('07/03/2017'),NULL,29700,5643,35343,NULL,1,NULL,'EM');
insert into factura values (11528,'13746912-9','10712354-2',to_date('07/03/2017'),NULL,29700,5643,35343,2,4,'CF-123647','EM');
insert into factura values (11529,'5446780-0','10456789-4',to_date('08/03/2017'),NULL,21900,4161,26061,NULL,1,NULL,'EM');
insert into factura values (11530,'10812874-0','10456789-4',to_date('08/03/2017'),NULL,27000,5130,32130,NULL,1,NULL,'EM');

INSERT INTO DETALLE_FACTURA VALUES (11520,1,25000,100,'FILTRO DE ACEITE GRATIS AMALIE',0,4,100000);
INSERT INTO DETALLE_FACTURA VALUES (11521,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_FACTURA VALUES (11521,19,2000,NULL,NULL,0,10,20000);
INSERT INTO DETALLE_FACTURA VALUES (11522,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_FACTURA VALUES (11522,16,6990,NULL,NULL,0,10,69900);
INSERT INTO DETALLE_FACTURA VALUES (11522,21,700,NULL,NULL,0,15,10500);
INSERT INTO DETALLE_FACTURA VALUES (11523,2,12500,101,'FILTRO DE ACEITE GRATIS EDGE USA',0,3,37500);
INSERT INTO DETALLE_FACTURA VALUES (11524,3,12990,null,null,50,6,58455);
INSERT INTO DETALLE_FACTURA VALUES (11525,15,10000,null,null,50,4,30000);
INSERT INTO DETALLE_FACTURA VALUES (11526,5,4950,104,'FILTRO DE ACEITE GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11527,5,4950,104,'FILTRO DE ACEITE GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11528,5,4950,104,'FILTRO DE ACEITE GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11529,22,21900,null,null,0,1,21900);
INSERT INTO DETALLE_FACTURA VALUES (11530,24,27000,null,null,0,1,27000);


insert into BOLETA values (120,'6245678-1','12456778-1',to_date('22/01/2017'),119000,1,4,'DS4344', 'EM');
insert into BOLETA values (121,'7812354-2','10712354-2',to_date('22/01/2017'),177310,NULL,1,NULL,'EM');
insert into BOLETA values (122,'9912478-3','12456778-1',to_date('23/02/2017'),249186,2,3,NULL,'PA');
insert into BOLETA values (123,'14456789-4','11124678-3',to_date('24/02/2017'),44625,NULL,1,NULL,'EM');
insert into BOLETA values (124,'11245678-5','11124678-3',to_date('25/02/2017'),69561,2,4,NULL,'EM');
insert into BOLETA values (125,'6467708-6','10456789-4',to_date('26/02/2017'),35700,2,4,'4865', 'EM');
insert into BOLETA values (126,'10125945-7','12456778-1',to_date('27/02/2017'),35343,2,3,NULL,'PA');
insert into BOLETA values (127,'8125781-8','10712354-2',to_date('17/03/2017'),35343,NULL,1,NULL,'EM');
insert into BOLETA values (128,'13746912-9','10456789-4',to_date('17/03/2017'),35343,2,4,'S/N 36147','EM');
insert into BOLETA values (129,'5446780-0','12456778-1',to_date('18/03/2017'),26061,NULL,1,NULL,'EM');
insert into BOLETA values (130,'10812874-0','10456789-4',to_date('18/03/2017'),32130,NULL,1,NULL,'EM');



INSERT INTO DETALLE_BOLETA VALUES (120,1,25000,100,'FILTRO DE ACEITE GRATIS AMALIE',0,4,100000);
INSERT INTO DETALLE_BOLETA VALUES (121,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_BOLETA VALUES (121,19,2000,NULL,NULL,0,10,20000);
INSERT INTO DETALLE_BOLETA VALUES (122,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_BOLETA VALUES (122,16,6990,NULL,NULL,0,10,69900);
INSERT INTO DETALLE_BOLETA VALUES (122,21,700,NULL,NULL,0,15,10500);
INSERT INTO DETALLE_BOLETA VALUES (123,2,12500,101,'FILTRO DE ACEITE GRATIS EDGE USA',0,3,37500);
INSERT INTO DETALLE_BOLETA VALUES (124,3,12990,null,null,50,6,58455);
INSERT INTO DETALLE_BOLETA VALUES (125,15,10000,null,null,50,4,30000);
INSERT INTO DETALLE_BOLETA VALUES (126,5,4950,104,'FILTRO DE ACEITE GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (127,5,4950,104,'FILTRO DE ACEITE GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (128,5,4950,104,'FILTRO DE ACEITE GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (129,22,21900,null,null,0,1,21900);
INSERT INTO DETALLE_BOLETA VALUES (130,24,27000,null,null,0,1,27000);


INSERT INTO PORCENTAJE_COMISION VALUES(1,1,200000,8);
INSERT INTO PORCENTAJE_COMISION VALUES(2,200001,225000,8.5);
INSERT INTO PORCENTAJE_COMISION VALUES(3,225001,240000,9);
INSERT INTO PORCENTAJE_COMISION VALUES(4,240001,250000,9.5);
INSERT INTO PORCENTAJE_COMISION VALUES(5,250001,265000,10);


INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('02/01/17'),'FAC',11520,100000,'12456778-1',0.1,1000);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('02/01/17'),'FAC',11521,149000,'10712354-2',0.2,2980);

INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('22/01/17'),'BOL',120,119000,'12456778-1',0.1,1190);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('22/01/17'),'BOL',121,177310,'10712354-2',0.2,3546);

INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('03/02/17'),'FAC',11522,209400,'12456778-1',0.1,2094);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('04/02/17'),'FAC',11523,37500,'11124678-3',0.3,1125);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('15/02/17'),'FAC',11524,58455,'11124678-3',0.3,1754);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('16/02/17'),'FAC',11525,30000,'12456778-1',0.1,300);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('17/02/17'),'FAC',11526,29700,'10456778-1',0.4,1188);


INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('23/02/17'),'BOL',122,249186,'12456778-1',0.1,2491);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('24/02/17'),'BOL',123,44625,'11124678-3',0.3,1339);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('25/02/17'),'BOL',124,69561,'11124678-3',0.3,2087);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('26/02/17'),'BOL',125,35700,'10456778-1',0.4,1428);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('27/02/17'),'BOL',126,35343,'12456778-1',0.1,353);

INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('07/03/17'),'FAC',11527,29700,'10712354-2',0.2,594);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('07/03/17'),'FAC',11528,29700,'10712354-2',0.2,594);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('08/03/17'),'FAC',11529,21900,'10456778-1',0.4,876);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('08/03/17'),'FAC',11530,27000,'10456778-1',0.4,1080);

INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('17/03/17'),'BOL',127,35343,'10712354-2',0.2,707);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('17/03/17'),'BOL',128,35343,'10456778-1',0.4,1414);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('18/03/17'),'BOL',129,26061,'12456778-1',0.1,261);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('18/03/17'),'BOL',130,32130,'10456778-1',0.4,1285);
INSERT INTO DETALLE_VENTA_MES_VENDEDOR VALUES (TO_DATE('19/03/17'),'BOL',131,130900,'11124678-3',0.3,3927);


commit;