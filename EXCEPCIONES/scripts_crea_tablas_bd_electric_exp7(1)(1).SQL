
DROP TABLE DETALLE_FACTURA;
DROP TABLE FACTURA;
DROP TABLE DETALLE_BOLETA;
DROP TABLE BOLETA;
DROP TABLE PROMOCION;
DROP TABLE AUDITORIA_PRODUCTO;

DROP TABLE PRODUCTO;
DROP TABLE UNIDAD_MEDIDA;
DROP TABLE PAIS;
DROP TABLE CARGA_FAMILIARES;
DROP TABLE CURSO_EMPLEADO;
DROP TABLE PORC_MOVILIZACION;
DROP TABLE PORC_ANTIGUEDAD_EMPLEADO;


DROP TABLE DETALLE_VENTA_MES;
DROP TABLE RESUMEN_VENTA_MES;
DROP TABLE CLIENTE;
DROP TABLE PORCENTAJE_COMISION;
DROP TABLE HABERES_PAGO_MENSUAL;
DROP TABLE DESCUENTO_PAGO_MENSUAL;
DROP TABLE PAGO_EMPLEADO;

DROP TABLE EMPLEADO;
DROP TABLE PREVISION_AFP;
DROP TABLE PREVISION_SALUD;
DROP TABLE TIPO_EMPLEADO;
DROP TABLE PORC_ESCOLARIDAD;
DROP TABLE FORMA_PAGO;
DROP TABLE CURSO;
DROP TABLE ERROR_CALC;
DROP TABLE BANCO;
DROP TABLE COMUNA;
DROP TABLE CIUDAD;
drop table BONO_META;

DROP SEQUENCE SEQ_AUDIT;
DROP SEQUENCE seq_error;


Prompt ******  CREANDO TABLA BONO_META ....

CREATE TABLE BONO_META
(
 NRO_TRAMO		NUMBER(1) NOT NULL,
 COMISION_BASE_INF	NUMBER(8) NOT NULL,
 COMISION_BASE_SUP   	NUMBER(8) NOT NULL,
 TOTAL_BONO		NUMBER(10) NOT NULL
 );
 ALTER TABLE BONO_META
      ADD CONSTRAINT PK_BONO_META PRIMARY KEY (NRO_TRAMO);


Prompt ******  CREANDO TABLA PORC_MOVILIZACION ....


CREATE TABLE BONO_META
(
 NRO_TRAMO		NUMBER(1) NOT NULL,
 COMISION_BASE_INF	NUMBER(8) NOT NULL,
 COMISION_BASE_SUP   	NUMBER(8) NOT NULL,
 TOTAL_BONO		NUMBER(10) NOT NULL
 );
 ALTER TABLE BONO_META 
     ADD CONSTRAINT PK_BONO_META PRIMARY KEY (NRO_TRAMO);


CREATE TABLE PORC_MOVILIZACION 
(
 CODMOVILIZACION	NUMBER (2), 
 SUELDO_BASE_INF	NUMBER (8), 
 SUELDO_BASE_SUP	NUMBER (8), 
 PORC_MOVILIZACION	NUMBER (6,2) 
);

ALTER TABLE PORC_MOVILIZACION 
    ADD CONSTRAINT PORC_MOVILIZACION_PK PRIMARY KEY (CODMOVILIZACION);



Prompt ******  CREANDO TABLA PORC_ESCOLARIDAD ....

CREATE TABLE PORC_ESCOLARIDAD 
(
 CODESCOLARIDAD	    	  NUMBER (2), 
 DESC_ESCOLARIDAD	  VARCHAR2(50), 
 PORC_ESCOLARIDAD	  NUMBER (6,2) 
);

ALTER TABLE PORC_ESCOLARIDAD  
    ADD CONSTRAINT PORC_ESCOLARIDAD_PK PRIMARY KEY (CODESCOLARIDAD);



Prompt ******  CREANDO TABLA PORC_ANTIGUEDAD_EMPLEADO ....

CREATE TABLE PORC_ANTIGUEDAD_EMPLEADO 
(
 IDANTIGUEDADEMPLEADO	NUMBER (2), 
 ANNOS_ANTIGUEDAD_INF	NUMBER (8), 
 ANNOS_ANTIGUEDAD_SUP	NUMBER (8), 
 PORC_ANTIGUEDAD	NUMBER (6,2) 
);

ALTER TABLE PORC_ANTIGUEDAD_EMPLEADO 
    ADD CONSTRAINT PORC_ANTIGUEDAD_EMPLEADO_PK PRIMARY KEY (IDANTIGUEDADEMPLEADO);


Prompt ******  CREANDO TABLA TIPO_EMPLEADO ....

CREATE TABLE TIPO_EMPLEADO 
(
 TIPO_EMPLEADO		NUMBER (2), 
 DESCRIPCION		VARCHAR2(50)
);

ALTER TABLE TIPO_EMPLEADO 
    ADD CONSTRAINT COD_TIPO_EMPLEADO_PK PRIMARY KEY (TIPO_EMPLEADO);


Prompt ******  CREANDO TABLA CIUDAD ....

CREATE TABLE CIUDAD  
(
 CODCIUDAD 	  NUMBER (2), 
 DESCRIPCION 	  VARCHAR2(30)
);

ALTER TABLE CIUDAD 
    ADD CONSTRAINT COD_CIUDAD_PK PRIMARY KEY (CODCIUDAD);


Prompt ******  CREANDO TABLA COMUNA ....

CREATE TABLE COMUNA
(
 CODCOMUNA 	  NUMBER (2), 
 DESCRIPCION 	  VARCHAR2(30),
 CODCIUDAD 	  NUMBER(2)
);

ALTER TABLE COMUNA 
    ADD CONSTRAINT COD_COMUNA_PK PRIMARY KEY (CODCOMUNA);

ALTER TABLE COMUNA 
    ADD CONSTRAINT COD_CIUDAD_FK FOREIGN KEY (CODCIUDAD) REFERENCES CIUDAD (CODCIUDAD);


Prompt ******  CREANDO TABLA CLIENTE ....

CREATE TABLE CLIENTE
(
  RUTCLIENTE  		VARCHAR2(10),
  NOMBRE      		VARCHAR2(30),
  DIRECCION   		VARCHAR2(30),
  CODCOMUNA   		NUMBER (2),
  TELEFONO    		NUMBER(10),
  ESTADO      		VARCHAR2(1),
  MAIL			VARCHAR2(50),
  CREDITO     		NUMBER (7),
  SALDO       		NUMBER (7)
);

ALTER TABLE CLIENTE
    ADD CONSTRAINT RUT_CLIENTE_PK PRIMARY KEY (RUTCLIENTE);

ALTER TABLE CLIENTE
    ADD CONSTRAINT ESTADO_CLIENTE_CK CHECK (ESTADO IN ('A', 'B') );

ALTER TABLE CLIENTE 
    ADD CONSTRAINT COD_COMUNA_FK 
    FOREIGN KEY (CODCOMUNA) REFERENCES COMUNA (CODCOMUNA);


Prompt ******  CREANDO TABLA CURSO ....
CREATE TABLE CURSO
(
 CODCURSO   	NUMBER (2), 
 NOMCURSO 	  VARCHAR2(30),
 CANT_HORAS 	NUMBER(2)
);

ALTER TABLE CURSO
    ADD CONSTRAINT CODCURSO_PK PRIMARY KEY (CODCURSO);


Prompt ******  CREANDO TABLA PREVISION_AFP ....

CREATE TABLE PREVISION_AFP
(
 CODAFP 	NUMBER(2),
 NOMAFP 	VARCHAR2(50),
 porc_afp 	number(4,2)
);

ALTER TABLE PREVISION_AFP
    ADD CONSTRAINT PREVISION_AFP_PK PRIMARY KEY (CODAFP);



Prompt ******  CREANDO TABLA PREVISION_SALUD ....

CREATE TABLE PREVISION_SALUD
(
 CODSALUD 	NUMBER(2),
 NOMSALUD 	VARCHAR2(50),
 porc_salud 	number(4,2)
);

ALTER TABLE PREVISION_SALUD
    ADD CONSTRAINT PREVISION_SALUD_PK PRIMARY KEY (CODSALUD);



Prompt ******  CREANDO TABLA EMPLEADO ....

CREATE TABLE EMPLEADO
(
  RUTEMPLEADO 		VARCHAR2(10),
  NOMBRE      		VARCHAR2(30),
  DIRECCION   		VARCHAR2(30),
  CODCOMUNA   		NUMBER (2),
  TELEFONO    		NUMBER(10),
  MAIL			VARCHAR2(50),
  SUELDO_BASE		NUMBER(8),
  COMISION		NUMBER(4,2),
  FECHA_CONTRATO	DATE,
  CODESCOLARIDAD  	NUMBER(2),
  TIPO_EMPLEADO		NUMBER(2),
  CODAFP          	NUMBER(2),
  CODSALUD        	NUMBER(2)
);

ALTER TABLE EMPLEADO
    ADD CONSTRAINT RUT_EMPLEADO_PK PRIMARY KEY (RUTEMPLEADO);

ALTER TABLE EMPLEADO 
    ADD CONSTRAINT EMPLEADO_COD_COMUNA_FK 
    FOREIGN KEY (CODCOMUNA) REFERENCES COMUNA (CODCOMUNA);

ALTER TABLE EMPLEADO
    ADD CONSTRAINT TIPO_EMPLEADO_FK 
    FOREIGN KEY (TIPO_EMPLEADO) REFERENCES TIPO_EMPLEADO (TIPO_EMPLEADO);

ALTER TABLE EMPLEADO
    ADD CONSTRAINT CODAFP_FK 
    FOREIGN KEY (CODAFP) REFERENCES PREVISION_AFP (CODAFP);
    
ALTER TABLE EMPLEADO
    ADD CONSTRAINT CODSALUD_FK
    FOREIGN KEY (CODSALUD) REFERENCES PREVISION_SALUD (CODSALUD);    

ALTER TABLE EMPLEADO
    ADD CONSTRAINT CODESCOLARIDAD_FK
    FOREIGN KEY (CODESCOLARIDAD) REFERENCES PORC_ESCOLARIDAD (CODESCOLARIDAD);    



Prompt ******  CREANDO TABLA CARGA_FAMILIARES ....

CREATE TABLE CARGA_FAMILIARES
(
  RUTEMPLEADO 		VARCHAR2(10),
  RUTCARGAFAM 		VARCHAR2(10),
  NOMCARGA     		VARCHAR2(100),
  FECHA_NAC             DATE,
  TELEFONO    		NUMBER(10),
  MAIL		      	VARCHAR2(50),
  ASIG_FAMILIAR         NUMBER(8)
);

ALTER TABLE CARGA_FAMILIARES 
      ADD CONSTRAINT CARGA_FAM_PK PRIMARY KEY (RUTEMPLEADO, RUTCARGAFAM);

ALTER TABLE CARGA_FAMILIARES 
    ADD CONSTRAINT CARGA_FAMILIARES_FK 
    FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);


Prompt ******  CREANDO TABLA CURSO_EMPLEADO ....
CREATE TABLE  CURSO_EMPLEADO 
   (
    RUTEMPLEADO	  VARCHAR2(10),
    CODCURSO 	  NUMBER(2), 
    CANT_HORAS    NUMBER(2),
    FECHA_DESDE   DATE,
    FECHA_HASTA   DATE,
    ESTADO_APROB  VARCHAR2(2)
   );

ALTER TABLE CURSO_EMPLEADO 
      ADD CONSTRAINT CURSO_EMPLEADO_PK PRIMARY KEY (RUTEMPLEADO,CODCURSO);

ALTER TABLE CURSO_EMPLEADO 
    ADD CONSTRAINT CURSO_EMPLEADO_CUR_FK 
    FOREIGN KEY (CODCURSO) REFERENCES CURSO (CODCURSO);

ALTER TABLE CURSO_EMPLEADO 
    ADD CONSTRAINT CURSO_EMPLEADO_EMPL_FK 
    FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);
    

Prompt ******  CREANDO TABLA UNIDAD_MEDIDA ....

CREATE TABLE  UNIDAD_MEDIDA 
   (
    CODUNIDAD 	VARCHAR2(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE UNIDAD_MEDIDA 
      ADD CONSTRAINT COD_UNIDAD_PK PRIMARY KEY (CODUNIDAD);


Prompt ******  CREANDO TABLA PAIS ....

CREATE TABLE  PAIS 
   (
    CODPAIS 	NUMBER(2), 
    NOMPAIS	VARCHAR2(30) 
   );

ALTER TABLE PAIS 
      ADD CONSTRAINT PAIS_PK PRIMARY KEY (CODPAIS);



Prompt ******  CREANDO TABLA PRODUCTO ....

CREATE TABLE  PRODUCTO 
   (
    CODPRODUCTO  	NUMBER(3), 
    DESCRIPCION   	VARCHAR2(40), 
    CODUNIDAD     	VARCHAR2(2), 
    CODCATEGORIA        VARCHAR2(1), 
    VUNITARIO    	NUMBER(8), 
    VALORCOMPRAPESO    	NUMBER(8), 
    VALORCOMPRADOLAR    NUMBER(8,2), 
    TOTALSTOCK   	NUMBER (5),
    STKSEGURIDAD  	NUMBER (5),    
    PROCEDENCIA   	VARCHAR2(1),
    CODPAIS		NUMBER(2),
    CODPRODUCTO_REL	NUMBER(3)
   );

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_PROD_PK PRIMARY KEY (CODPRODUCTO);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_UNIDAD_FK 
      FOREIGN KEY (CODUNIDAD) REFERENCES UNIDAD_MEDIDA (CODUNIDAD);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_PAIS_FK 
      FOREIGN KEY (CODPAIS) REFERENCES PAIS (CODPAIS);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT CODPRODUCTO_REL_FK 
      FOREIGN KEY (CODPRODUCTO_REL) REFERENCES PRODUCTO (CODPRODUCTO);


Prompt ******  CREANDO TABLA PROMOCION ....

CREATE TABLE  PROMOCION 
   (
    CODPROMOCION  	NUMBER (4), 
    DESCRI_PROM   	VARCHAR2(60), 
    FECHA_DESDE		DATE,
    FECHA_HASTA		DATE,
    CODPRODUCTO	    	NUMBER(3), 
    PORC_DSCTO_PROD	NUMBER(4,2),
    CODPRODUCTO_REL 	NUMBER(3)
   );

ALTER TABLE PROMOCION 
      ADD CONSTRAINT CODPROMOCION_PK PRIMARY KEY (CODPROMOCION);

ALTER TABLE PROMOCION 
      ADD CONSTRAINT CODPRODUCTO_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);


Prompt ******  CREANDO TABLA FORMA_PAGO ....

CREATE TABLE  FORMA_PAGO 
   (
    CODPAGO 	NUMBER(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE FORMA_PAGO 
      ADD CONSTRAINT CODPAGO_PK PRIMARY KEY (CODPAGO);


Prompt ******  CREANDO TABLA BANCO ....

CREATE TABLE  BANCO 
   (
    CODBANCO 	NUMBER(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE BANCO 
      ADD CONSTRAINT CODBANCO_PK PRIMARY KEY (CODBANCO);



Prompt ******  CREANDO TABLA FACTURA ....

CREATE TABLE FACTURA
(
  NUMFACTURA  		NUMBER(7),
  RUTCLIENTE  		VARCHAR2(10),
  RUTEMPLEADO     	VARCHAR2(10),
  FECHA       		DATE,
  F_VENCIMIENTO		DATE,
  NETO        		NUMBER (7),	
  IVA         		NUMBER (7),
  TOTAL       		NUMBER (7),
  CODBANCO		NUMBER(2),
  CODPAGO		NUMBER(2),
  NUM_DOCTO_PAGO	VARCHAR2(30),
  ESTADO      		VARCHAR2(2)
);

ALTER TABLE FACTURA 
      ADD CONSTRAINT NUMFACTURA_PK PRIMARY KEY (NUMFACTURA);

ALTER TABLE FACTURA 
      ADD CONSTRAINT RUTCLIENTE_FK 
      FOREIGN KEY (RUTCLIENTE) REFERENCES CLIENTE (RUTCLIENTE);

ALTER TABLE FACTURA 
      ADD CONSTRAINT RUTEMPLEADO_FK 
      FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);

ALTER TABLE FACTURA 
      ADD CONSTRAINT CODPAGO_FK 
      FOREIGN KEY (CODPAGO) REFERENCES FORMA_PAGO (CODPAGO);

ALTER TABLE FACTURA 
      ADD CONSTRAINT CODBANCO_FK 
      FOREIGN KEY (CODBANCO) REFERENCES BANCO (CODBANCO);

ALTER TABLE FACTURA
      ADD CONSTRAINT ESTADO_FACTURA_CK
      CHECK (ESTADO IN ('EM', 'PA','NC') );


Prompt ******  CREANDO TABLA DETALLE_FACTURA ....

CREATE TABLE DETALLE_FACTURA 
   (
    NUMFACTURA 		NUMBER (7), 
    CODPRODUCTO 	NUMBER (3), 
    VUNITARIO    	NUMBER(8),  
    CODPROMOCION	NUMBER (4),
    DESCRI_PROM   	VARCHAR2(60), 
    DESCUENTO		NUMBER(8),
    CANTIDAD 		NUMBER (5), 
    TOTALLINEA 		NUMBER(8)
   );

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT DET_FACT_PK PRIMARY KEY (NUMFACTURA, CODPRODUCTO);

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT COD_PROD_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);


ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT NUM_FACT_FK 
      FOREIGN KEY (NUMFACTURA) REFERENCES FACTURA (NUMFACTURA);

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT CODPROMOCION_FK 
      FOREIGN KEY (CODPROMOCION) REFERENCES PROMOCION (CODPROMOCION);



Prompt ******  CREANDO TABLA BOLETA ....

CREATE TABLE BOLETA
(
  NUMBOLETA  		NUMBER(7),
  RUTCLIENTE  		VARCHAR2(10),
  RUTEMPLEADO     	VARCHAR2(10),
  FECHA       		DATE,
  TOTAL       		NUMBER (7),
  CODPAGO		NUMBER(2),
  CODBANCO		NUMBER(2),
  NUM_DOCTO_PAGO	VARCHAR2(30),
  ESTADO      		VARCHAR2(2)
);

ALTER TABLE BOLETA 
      ADD CONSTRAINT NUMBOLETA_PK PRIMARY KEY (NUMBOLETA);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_RUTCLIENTE_FK 
      FOREIGN KEY (RUTCLIENTE) REFERENCES CLIENTE (RUTCLIENTE);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_RUTEMPLEADO_FK 
      FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);

     
ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_CODPAGO_FK 
      FOREIGN KEY (CODPAGO) REFERENCES FORMA_PAGO (CODPAGO);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_CODBANCO_FK 
      FOREIGN KEY (CODBANCO) REFERENCES BANCO (CODBANCO);

ALTER TABLE BOLETA
      ADD CONSTRAINT BOL_ESTADO_BOLETA_CK
      CHECK (ESTADO IN ('EM', 'PA','NC') );


Prompt ******  CREANDO TABLA DETALLE_BOLETA ....

CREATE TABLE DETALLE_BOLETA 
   (
    NUMBOLETA	 	NUMBER (7), 
    CODPRODUCTO 	NUMBER (3), 
    VUNITARIO    	NUMBER(8),  
    CODPROMOCION	NUMBER (4),
    DESCRI_PROM   	VARCHAR2(60), 
    DESCUENTO		NUMBER(8),
    CANTIDAD 		NUMBER (5), 
    TOTALLINEA 		NUMBER(8)
   );

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOLETA_PK PRIMARY KEY (NUMBOLETA, CODPRODUCTO);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_CODPRODUCTO_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_NUM_BOLETA_FK 
      FOREIGN KEY (NUMBOLETA) REFERENCES BOLETA (NUMBOLETA);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_CODPROMOCION_FK 
      FOREIGN KEY (CODPROMOCION) REFERENCES PROMOCION (CODPROMOCION);


Prompt ******  CREANDO AUDITORIA_PRODUCTO ....

CREATE TABLE AUDITORIA_PRODUCTO
(
     ID_AUDIT 		NUMBER(6),
     CODPRODUCTO 	NUMBER(3),
     DESCRIPCION 	VARCHAR2(40),
     PROCEDENCIA 	VARCHAR2(1),
     VALOR_UNITARIO_ANT NUMBER(8,2),
     VALOR_UNITARIO_NVO NUMBER(8,2),
     FECHA_AUDIT 	DATE
);

ALTER TABLE AUDITORIA_PRODUCTO 
      ADD CONSTRAINT AUDITORIA_PRODUCTO_PK PRIMARY KEY (ID_AUDIT);

ALTER TABLE AUDITORIA_PRODUCTO 
      ADD CONSTRAINT AUDIT_PROD_CODPRODUCTO_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);


Prompt ******  CREANDO DETALLE_VENTA_MES ....

CREATE TABLE DETALLE_VENTA_MES 
(
 TIPO_DOCTO     VARCHAR2(3),
 NUMDOCUMENTO   NUMBER(7),
 FECHA         	DATE,
 RUTCLIENTE 	VARCHAR2(10),
 NOMCLIENTE 	VARCHAR2(30),
 NETO        	NUMBER(8,2),
 IVA        	NUMBER(8,2),
 TOTAL        	NUMBER(8,2)
);

ALTER TABLE DETALLE_VENTA_MES 
      ADD CONSTRAINT DETALLE_VENTA_MES_PK PRIMARY KEY (TIPO_DOCTO,NUMDOCUMENTO);

ALTER TABLE DETALLE_VENTA_MES 
      ADD CONSTRAINT DET_VTA_MES_RUTCLIENTE_FK 
      FOREIGN KEY (RUTCLIENTE) REFERENCES CLIENTE (RUTCLIENTE);



Prompt ******  CREANDO TABLA RESUMEN_VENTA_MES ....

CREATE TABLE RESUMEN_VENTA_MES 
(
 RUTEMPLEADO        	VARCHAR2(10),
 MES_ANNO     		VARCHAR2(10),
 TIPO_DOCTO        	VARCHAR2(3),
 CANT_TOTAL_DOCTO	NUMBER(8),
 MONTO_NETO_TOTAL  	NUMBER(8),
 MONTO_IVA_TOTAL   	NUMBER(8),
 MONTO_TOTAL	    	NUMBER(8),
 COMISION           	NUMBER(4,2),
 TOT_COMISION       	NUMBER(8),
 BONO_META          	NUMBER(8),
 TOT_PAGO_MES       	NUMBER(8)
);

ALTER TABLE RESUMEN_VENTA_MES 
      ADD CONSTRAINT DET_VTA_MES_PK PRIMARY KEY (RUTEMPLEADO,MES_ANNO,TIPO_DOCTO);

ALTER TABLE RESUMEN_VENTA_MES 
      ADD CONSTRAINT DET_VTA_MES_RUTEMPLEADO_FK 
      FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);
      

Prompt ******  CREANDO TABLA HABERES_PAGO_MENSUAL ....

CREATE TABLE HABERES_PAGO_MENSUAL 
(
 MES_ANNO   		VARCHAR2(10),    
 RUTEMPLEADO    	VARCHAR2(10),
 SUELDO_BASE    	NUMBER(8),
 TOT_ANTIGUEDAD  	NUMBER(8),
 TOT_CARGA_FAM   	NUMBER(8),
 TOTAL_COLACION  	NUMBER(8),
 TOT_MOVILIZACION 	NUMBER(8),
 TOT_ESCOLARIDAD 	NUMBER(8),
 TOT_AGUINALDO   	NUMBER(8),
 COMISION_MES  		NUMBER(8),
 GRATIFICACION    	NUMBER(8)
); 


ALTER TABLE HABERES_PAGO_MENSUAL 
      ADD CONSTRAINT HAB_PAGO_MENSUAL_PK PRIMARY KEY (MES_ANNO,RUTEMPLEADO);

ALTER TABLE HABERES_PAGO_MENSUAL 
      ADD CONSTRAINT HAB_PAG_MEN_RUTEMPLEADO_FK 
      FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);


Prompt ******  CREANDO TABLA DESCUENTO_PAGO_MENSUAL ....

CREATE TABLE DESCUENTO_PAGO_MENSUAL 
(
 MES_ANNO   		VARCHAR2(10),    
 RUTEMPLEADO    	VARCHAR2(10),
 SUELDO_BASE    	NUMBER(8),
 TOT_AfP  		NUMBER(8),
 TOT_SALUD   		NUMBER(8) 

); 


ALTER TABLE DESCUENTO_PAGO_MENSUAL 
      ADD CONSTRAINT DESCUENTO_PAGO_MENSUAL_PK PRIMARY KEY (MES_ANNO,RUTEMPLEADO);

ALTER TABLE DESCUENTO_PAGO_MENSUAL
      ADD CONSTRAINT DESCTO_PAG_MES_RUTEMPLEADO_FK 
      FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);

 
 
Prompt ******  CREANDO TABLA PAGO_EMPLEADO ....

CREATE TABLE PAGO_EMPLEADO 
(
 MES_ANNO   		VARCHAR2(10),
 RUTEMPLEADO    	VARCHAR2(10),
 NOMEMPLEADO    	VARCHAR2(30),
 SUELDO_BASE    	NUMBER(8),
 COMISION_MES  		NUMBER(8),
 TOTAL_COLACION  	NUMBER(8),
 TOT_MOVILIZACION 	NUMBER(8),
 TOTAL_AFP      	NUMBER(8),
 TOTAL_SALUD     	NUMBER(8),
 TOT_ANTIGUEDAD  	NUMBER(8),
 TOT_ESCOLARIDAD 	NUMBER(8),
 TOT_CARGA_FAM   	NUMBER(8),
 TOT_AGUINALDO   	NUMBER(8),
 GRATIFICACION    	NUMBER(8),
 TOTAL_PAGAR    	NUMBER(8) 
);

ALTER TABLE PAGO_EMPLEADO 
      ADD CONSTRAINT DET_VENTA_MES_PK PRIMARY KEY (MES_ANNO,RUTEMPLEADO);

ALTER TABLE PAGO_EMPLEADO 
      ADD CONSTRAINT PAG_EMPLEADO_RUTEMPLEADO_FK 
      FOREIGN KEY (RUTEMPLEADO) REFERENCES EMPLEADO (RUTEMPLEADO);


Prompt ******  CREANDO TABLA PORCENTAJE_COMISION ....

CREATE TABLE PORCENTAJE_COMISION
(
 NRO_TRAMO		NUMBER(1) NOT NULL,
 SUELDO_BASE_INF	NUMBER(8) NOT NULL,
 SUELDO_BASE_SUP   	NUMBER(8) NOT NULL,
 PORC_COMISION		NUMBER(4,2) NOT NULL
 );

ALTER TABLE PORCENTAJE_COMISION 
      ADD CONSTRAINT PK_PORCENTAJE_COMISION 
      PRIMARY KEY (NRO_TRAMO);


Prompt ******  CREANDO TABLA ERROR_CALC ....

CREATE TABLE ERROR_CALC
(
 CORREL_ERROR      	NUMBER(5) NOT NULL,
 RUTINA_ERROR		VARCHAR2(80) NOT NULL,
 DESCRIP_ERROR		VARCHAR2(200) NOT NULL
 ); 

ALTER TABLE ERROR_CALC 
      ADD CONSTRAINT PK_ERROR_CALC 
      PRIMARY KEY (CORREL_ERROR);


Prompt ******  CREANDO SECUENCIA SEQ_AUDIT ....

create sequence SEQ_AUDIT
minvalue 1
maxvalue 9999999999
increment by 1;

Prompt ******  CREANDO SECUENCIA SEQ_ERROR ....

create sequence SEQ_ERROR
minvalue 1
maxvalue 9999999999
increment by 1;



Prompt ******  INSERTANDO DATOS ....

INSERT INTO CIUDAD VALUES (1,'ARICA');
INSERT INTO CIUDAD VALUES (2,'IQUIQUE');
INSERT INTO CIUDAD VALUES (3,'CALAMA');
INSERT INTO CIUDAD VALUES (4,'ANTOFAGASTA');
INSERT INTO CIUDAD VALUES (5,'COPIAPO');
INSERT INTO CIUDAD VALUES (6,'LA SERENA');
INSERT INTO CIUDAD VALUES (7,'VALPARAISO');
INSERT INTO CIUDAD VALUES (8,'SANTIAGO');
INSERT INTO CIUDAD VALUES (9,'RANCAGUA');
INSERT INTO CIUDAD VALUES (10,'TALCA');
INSERT INTO CIUDAD VALUES (11,'CONCEPCION');
INSERT INTO CIUDAD VALUES (12,'TEMUCO');
INSERT INTO CIUDAD VALUES (13,'VALDIVIA');
INSERT INTO CIUDAD VALUES (14,'OSORNO');
INSERT INTO CIUDAD VALUES (15,'PTO. MONTT');
INSERT INTO CIUDAD VALUES (16,'COYHAIQUE');
INSERT INTO CIUDAD VALUES (17,'PTA. ARENAS');

INSERT INTO COMUNA VALUES (1,'VITACURA',8);
INSERT INTO COMUNA VALUES (2,'�U�OA',8);
INSERT INTO COMUNA VALUES (3,'PE�ALOLEN',8);
INSERT INTO COMUNA VALUES (4,'SANTIAGO',8);
INSERT INTO COMUNA VALUES (5,'SAN MIGUEL',8);
INSERT INTO COMUNA VALUES (6,'MACUL',8);
INSERT INTO COMUNA VALUES (7,'LA FLORIDA',8);
INSERT INTO COMUNA VALUES (8,'PROVIDENCIA',8);
INSERT INTO COMUNA VALUES (9,'LAS CONDES',8);
INSERT INTO COMUNA VALUES (10,'NUNOA',8);


INSERT INTO FORMA_PAGO VALUES (1,'EFECTIVO');
INSERT INTO FORMA_PAGO VALUES (2,'TARJETA DEBITO');
INSERT INTO FORMA_PAGO VALUES (3,'TARJETA CREDITO');
INSERT INTO FORMA_PAGO VALUES (4,'CHEQUE');

INSERT INTO BANCO VALUES (1,'CHILE');
INSERT INTO BANCO VALUES (2,'SANTANDER');
INSERT INTO BANCO VALUES (3,'BCI');
INSERT INTO BANCO VALUES (4,'CORP BANCA');
INSERT INTO BANCO VALUES (5,'BBVA');
INSERT INTO BANCO VALUES (6,'SCOTIBANK');
INSERT INTO BANCO VALUES (7,'SECURITY');

INSERT INTO UNIDAD_MEDIDA VALUES ('UN','UNITARIO');
INSERT INTO UNIDAD_MEDIDA VALUES ('LT','LITRO');
INSERT INTO UNIDAD_MEDIDA VALUES ('MT','METRO');
INSERT INTO UNIDAD_MEDIDA VALUES ('CM','CENTIMETRO');
INSERT INTO UNIDAD_MEDIDA VALUES ('GA','GALON');

INSERT INTO PAIS VALUES (1,'CHILE');
INSERT INTO PAIS VALUES (2,'EEUU');
INSERT INTO PAIS VALUES (3,'INGLATERRA');
INSERT INTO PAIS VALUES (4,'ALEMANIA');
INSERT INTO PAIS VALUES (5,'FRANCIA');
INSERT INTO PAIS VALUES (6,'CANADA');
INSERT INTO PAIS VALUES (7,'ARGENTINA');
INSERT INTO PAIS VALUES (8,'BRASIL');

INSERT INTO TIPO_EMPLEADO VALUES (1,'ADMINISTRATIVO');
INSERT INTO TIPO_EMPLEADO VALUES (2,'GERENTE');
INSERT INTO TIPO_EMPLEADO VALUES (3,'SUPERVISOR');
INSERT INTO TIPO_EMPLEADO VALUES (4,'OPERARIO');
INSERT INTO TIPO_EMPLEADO VALUES (5,'VENDEDOR');
INSERT INTO TIPO_EMPLEADO VALUES (6,'JEFE LOCAL');

    INSERT INTO PREVISION_AFP VALUES (1,'HABITAT',7);
    INSERT INTO PREVISION_AFP VALUES (2,'PROVIDA',10);
    INSERT INTO PREVISION_AFP VALUES (3,'CUPRUM',15);
    INSERT INTO PREVISION_AFP VALUES (4,'MODELO',16);
    INSERT INTO PREVISION_AFP VALUES (5,'PLAN VITAL',14);
    INSERT INTO PREVISION_AFP VALUES (6,'CAPITAL',13);

    INSERT INTO PREVISION_SALUD VALUES (1,'FONASA',9);
    INSERT INTO PREVISION_SALUD VALUES (2,'CRUZ BLANCA',14);
    INSERT INTO PREVISION_SALUD VALUES (3,'CONSALUD',12);
    INSERT INTO PREVISION_SALUD VALUES (4,'VIDA TRES',13);
    INSERT INTO PREVISION_SALUD VALUES (5,'MAS VIDA',10);
    INSERT INTO PREVISION_SALUD VALUES (6,'COLMENA',8);
    INSERT INTO PREVISION_SALUD VALUES (7,'BANMEDICA',16);

insert into cliente values ('6245678-1','JUAN LOPEZ','ALAMEDA 6152',8,96644123,'A','JLOPEZ@GMAIL.COM',1000000,696550);
insert into cliente values ('7812354-2','MARIA SANTANDER','APOQUINDO 9093',8,961682456,'A','MSANTANDER@HOTMAIL.COM',1000000,819120);
insert into cliente values ('9912478-3','SIGIFRIDO SILVA','BILBAO 6200',8,55877315,'B','SSILVA@GMAIL.COM',1500000,0);
insert into cliente values ('14456789-4','OSCAR LARA','ALAMEDA 960',NULL,79888222,'A','OLARA@GMAIL.COM',2500000,2000000);
insert into cliente values ('11245678-5','MARCO ITURRA','ALAMEDA 1056',8,94577804,'A','MITURRA@YAHOO.COM',3000000,2332410);
insert into cliente values ('6467708-6','MARIBEL SOTO','VICU�A MACKENNA 4555',4,95514545,'A','MSOTO@GMAIL.COM',1800000,1200000);
insert into cliente values ('10125945-7','SABINA VERGARA','AV. LA FLORIDA 15554 ',4,88656285,'A','SVERGARA@GMAIL.COM',500000,150000);
insert into cliente values ('8125781-8','PATRICIA FUENTES','IRARRAZABAL 5452',2,74545904,'A','PFUENTES@HOTMAIL.COM',450000,50000);
insert into cliente values ('13746912-9','ABRAHAM IGLESIAS','ALAMEDA 454',4,91452303,'A','AIGLESIAS@YAHOO.COM',100000,90000);
insert into cliente values ('5446780-0','CARLOS MENDOZA','PANAMERICANA 152',1,95754782,'A','CMENDOZA@GMAIL.COM',800000,550000);
insert into cliente values ('10812874-0','LIDIA FUENZALIDA','PROVIDENCIA 4587 ',NULL,78544452,'A','LFUENZALIDA@GMAIL.COM',1900000,790000);

insert into cliente values ('62456789-1','ELECTRONIC S.A.','ALAMEDA 6152',1,6785422,'A','MLOPEZ@ELECTRONIC.CL',1500000,790000);
insert into cliente values ('78123548-2','CASA ROYAL','APOQUINDO 1520',2,2715596,'A','ACASASL@CASAROYAL.CL',1200000,80000);
insert into cliente values ('99124789-3','VICTRONIC','BILBAO 6200',2,558777,'B','MFUENTES@VICTRONIC.CL',1100000,777000);
insert into cliente values ('44567891-4','HOMECENTER','ALAMEDA 960',NULL,788222,'A','HFUENZALIDA@HOMECENTER.CL',1000000,660000);
insert into cliente values ('12456789-5','EASY','ALAMEDA 1056',3,457784,'A','LMUNOZ@EASY.CL',1280000,150000);
insert into cliente values ('64677089-6','SAMSUNG S.A.','VICU�A MACKENNA 4555',3,2875236,'A','AGAETE@SAMSUNG.CL',1750000,179000);
insert into cliente values ('71257945-7','PHILLIPS S.A.','AV. LA FLORIDA 15554',3,6568544,'B','EIGLESIAS@PHILLIPS.CL',1255000,90000);
insert into cliente values ('88125781-8','LG. CHILE S.A.','IRARRAZABAL 5452',4,4545433,'A','RPANTOJA@LGCHILE.CL',1345000,50000);
insert into cliente values ('87467912-9','CODELCO CALAMA','ALAMEDA 454',4,1452345,'A','CSOTO@CODELCO.CL',1800000,70000);
insert into cliente values ('45446780-0','CODELCO EL TENIENTE','PANAMERICANA 152',5,5413269,'A','NYANEZ@CODELCO.CL',1700000,900000);
insert into cliente values ('88125874-0','OLIDATA CHILE','PROVIDENCIA 4587',NULL,2785444,'B','MSEPULVEDA@OLIDATA.CL',1810000,800000);
insert into cliente values ('58123587-1','SONY CHILE S.A.','PROVIDENCIA 5400',NULL,2785444,'A','DSALAZAR@SONYCHILE.CL',1900000,300000);
insert into cliente values ('94444650-7','FENSA S.A.','AV. GRECIA 152',NULL,2758963,'A','LGONZALEZA@FENSA.CL',1100000,500000);


insert into CURSO values (1,'TECNICA DE VENTA',15);
insert into CURSO values (2,'SERVICIO AL CLIENTE',25);
insert into CURSO values (3,'MARKETING AVANZADO',20);
insert into CURSO values (4,'VENTA ELECTR�NICA',20);
insert into CURSO values (5,'MANEJO DE CONFLICTO',18);
insert into CURSO values (6,'TRABAJO EN EQUIPO',22);


INSERT INTO PORCENTAJE_COMISION VALUES(1,1,200000,8);
INSERT INTO PORCENTAJE_COMISION VALUES(2,200001,225000,8.5);
INSERT INTO PORCENTAJE_COMISION VALUES(3,225001,240000,9);
INSERT INTO PORCENTAJE_COMISION VALUES(4,240001,250000,9.5);
INSERT INTO PORCENTAJE_COMISION VALUES(5,250001,265000,10);

INSERT INTO PORC_MOVILIZACION VALUES (1,200000,220000,30);
INSERT INTO PORC_MOVILIZACION VALUES (2,220001,240000,25);
INSERT INTO PORC_MOVILIZACION VALUES (3,240001,260000,20);
INSERT INTO PORC_MOVILIZACION VALUES (4,260001,280000,15);

INSERT INTO PORC_ANTIGUEDAD_EMPLEADO VALUES (1,1,3,4);
INSERT INTO PORC_ANTIGUEDAD_EMPLEADO VALUES (2,4,6,5);
INSERT INTO PORC_ANTIGUEDAD_EMPLEADO VALUES (3,7,9,6);
INSERT INTO PORC_ANTIGUEDAD_EMPLEADO VALUES (4,10,12,7);

INSERT INTO PORC_ESCOLARIDAD VALUES (1,'BASICA',1);
INSERT INTO PORC_ESCOLARIDAD VALUES (2,'MEDIA CIENTIFICA HUMANISTA',2);
INSERT INTO PORC_ESCOLARIDAD VALUES (3,'MEDIA TECNICO PROFESIONAL',3);
INSERT INTO PORC_ESCOLARIDAD VALUES (4,'SUPERIOR CENTRO FORMACI�N T�CNICA',4);
INSERT INTO PORC_ESCOLARIDAD VALUES (5,'SUPERIOR INSTITUTO PROFESIONAL',5);
INSERT INTO PORC_ESCOLARIDAD VALUES (6,'SUPERIOR UNIVERSIDAD',6);

insert into EMPLEADO values ('12456778-1','LEOPOLDO ROJAS','ALAMEDA 6152',1,44644123,'LROJAS@GMAIL.COM',240000,1,TO_DATE('10-05-2008'),1,5,1,5);
insert into EMPLEADO values ('10712354-2','MARIO SOTO ','APOQUINDO 9093',2,651682456,'MSOTO@HOTMAIL.COM',265000,2,TO_DATE('08-03-2007'),2,5,2,6);
insert into EMPLEADO values ('11124678-3','SALVADOR ALVARADO','BILBAO 6200',3,65877315,'SALVARADO@GMAIL.COM',250000,3,TO_DATE('19-07-2015'),3,5,3,6);
insert into EMPLEADO values ('10456789-4','LUIS MU�OZ','ALAMEDA 960',4,96888222,'LMUNOZ@GMAIL.COM',265000,4,TO_DATE('11-11-2013'),4,5,4,2);
insert into EMPLEADO values ('11345189-3','MARIA SANDOVAL','SANTA RAQUEL 1960',7,96888222,'MSANDOVAL@GMAIL.COM',265000,4,TO_DATE('11-11-2013'),5,1,5,1);

insert into EMPLEADO values ('10777549-0','MARIO MUNOZ','PASAJE ROJO 11222',5,96888222,'MMUNOZ@GMAIL.COM',265000,4,TO_DATE('11-11-2013'),6,2,5,1);
insert into EMPLEADO values ('11123876-3','LUIS MEDINA','AV. IRARRAZABAL 979',8,96888222,'LMEDINA@GMAIL.COM',265000,4,TO_DATE('11-11-2013'),6,3,6,2);
insert into EMPLEADO values ('10074981-1','ARNOLDO GONZALEZ','AV. LA FLORIDA 2344',7,96888222,'AGONZALEZ@GMAIL.COM',265000,4,TO_DATE('11-11-2013'),5,4,6,2);
insert into EMPLEADO values ('9567890-5','LORENA SANTIBANEZ','PASAJE LOS ALMENDROS 1334',6,96888222,'LSANTIBANEZ@GMAIL.COM',265000,4,TO_DATE('11-11-2013'),5,1,6,2);
insert into EMPLEADO values ('10990785-2','ALEJANDRO MOREL','CALLE NUEVA 3444',10,96888222,'AMOREL@GMAIL.COM',265000,4,TO_DATE('11-11-2013'),5,6,3,3);

 
INSERT INTO CARGA_FAMILIARES VALUES ('10712354-2','20654873-1','MARIA SOTO SANTAMARIA',TO_DATE('10-05-2005'),NULL,NULL,null);
INSERT INTO CARGA_FAMILIARES VALUES ('10712354-2','19654873-K','JUAN MANUEL SOTO SANTAMARIA',TO_DATE('22-09-2004'),NULL,NULL,null);
INSERT INTO CARGA_FAMILIARES VALUES ('10456789-4','21534765-2','JOSE ANTONIO MU�OZ LOPEZ',TO_DATE('21-07-2009'),NULL,NULL,null);
INSERT INTO CARGA_FAMILIARES VALUES ('11124678-3','22475000-7','PATRICIA ALVARADO GONZALEZ',TO_DATE('17-08-201'),NULL,NULL,null);


INSERT INTO PRODUCTO VALUES (1, 'HINGE HALF','UN','P',25000,4000,7.42,100,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (2, 'TUBE ASSY','MT','P',12500,8890,8.87,90,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (3, 'BRACKET RH','UN','P',10000,7990,7.09,54,5,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (4, 'PRESS XMITR','UN','P',8500,6770.5,07,40,4,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (5, 'WELD ASSEM','UN','P',4950,3950,4.03,40,4,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (6, 'PLATE NOSE','UN','P',7850,5679,7.98,60,6,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (7, 'STOP LOW PICH A-2404-1','LT','P',11990,9500,9.77,87,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (8, 'CUP RETAINER A1827-1','UN','P',12500,10890,12.76,60,6,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (9, 'SLUG A3039','LT','P',18990,15000,17.85,18,5,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (10,'BLADE HATZELL','UN','P',2500,1500,2.01,100,10,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (11,'BULKHEAD SPINNER AFT','UN','P',1850,1200,1.6,150,15,'I',7,NULL);
INSERT INTO PRODUCTO VALUES (12,'ASSEM L. GEAR ACTUATOR','UN','P',15000,11000,15.64,70,7,'I',7,NULL);
INSERT INTO PRODUCTO VALUES (13,'WHEEL BEARING',NULL,'P',9000,6400,8.15,69,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (14,'SHIMMY DAMPNER','UN','P',17980,13980,15.85,35,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (15,'SCREW LH','GA','P',12990,9000,8.77,20,2,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (16,'CLUTCH ASSEM','UN','P',6990,5000,5.50,54,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (17,'TENSIONER ASSEM','UN','P',5990,3800,4.66,34,7,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (18,'INSERT KEYWAY','UN','P',12990,7800,6.80,25,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (19,'WHEEL LANDING','MT','P',2000,1000,NULL,200,20,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (20,'PLATE BRAKE','UN','P',2500,1200,NULL,90,9,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (21,'RETAINER ASSY','UN','P',700,480,NULL,100,10,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (22,'LATCH ASSY','UN','S',21900,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (23,'FLAT TRACK','UN','S',25000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (24,'GER SCHOCK STRUST','GA','S',27000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (25,'LINEAR 4 STRK 115 VAC','MT','S',23990,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (26,'BOARD POT(WHL BOGIE)','UN','S',19900,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (27,'MTRB HEIGHT','CM','S',10000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (28,'DUST SHIELD','UN','S',9000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (29,'CRANKSHAFT','UN','S',18500,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (30,'V.HOOL AP-500-91',NULL,'S',5990,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (31,'ASSY 50-810142-10','UN','S',15000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (32,'SHIELFT 810142-10','UN','S',14000,NULL,NULL,NULL,NULL,'N',1,NULL);



UPDATE PRODUCTO 
SET CODPRODUCTO_REL = 11
WHERE CODPRODUCTO <=9;

UPDATE PRODUCTO
SET CODPRODUCTO_REL = 27
WHERE (CODPRODUCTO >=22) AND (CODPRODUCTO <=26);

--- INSERT INTO PROMOCION "PARA INSERTAR CON CURSORES"



insert into factura values (11520,'6245678-1','12456778-1',to_date('02/01/2018'),to_date('02/02/2018'),100000,19000,119000,1,4,'178904', 'EM');
insert into factura values (11521,'7812354-2','10712354-2',to_date('02/01/2018'),NULL,149000,28310,177310,NULL,1,NULL,'EM');
insert into factura values (11522,'9912478-3','12456778-1',to_date('03/02/2018'),NULL,209400,39786,249186,2,3,NULL,'PA');
insert into factura values (11523,'14456789-4','11124678-3',to_date('04/02/2018'),NULL,37500,7125,44625,NULL,1,NULL,'EM');
insert into factura values (11524,'11245678-5','11124678-3',to_date('15/02/2018'),NULL,58455,11606,69561,2,4,NULL,'EM');
insert into factura values (11525,'6467708-6','12456778-1',to_date('16/02/2018'),'16/03/2018',30000,5700,35700,2,4,'8904865', 'EM');
insert into factura values (11526,'10125945-7','10456789-4',to_date('17/02/2018'),NULL,29700,5643,35343,2,3,NULL,'PA');
insert into factura values (11527,'8125781-8','10712354-2',to_date('07/03/2018'),NULL,29700,5643,35343,NULL,1,NULL,'EM');
insert into factura values (11528,'13746912-9','10712354-2',to_date('07/03/2018'),NULL,29700,5643,35343,2,4,'CF-123647','EM');
insert into factura values (11529,'5446780-0','10456789-4',to_date('08/03/2018'),NULL,21900,4161,26061,NULL,1,NULL,'EM');
insert into factura values (11530,'10812874-0','10456789-4',to_date('08/03/2018'),NULL,27000,5130,32130,NULL,1,NULL,'EM');

INSERT INTO DETALLE_FACTURA VALUES (11520,1,25000,NULL,NULL,0,4,100000);
INSERT INTO DETALLE_FACTURA VALUES (11521,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_FACTURA VALUES (11521,19,2000,NULL,NULL,0,10,20000);
INSERT INTO DETALLE_FACTURA VALUES (11522,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_FACTURA VALUES (11522,16,6990,NULL,NULL,0,10,69900);
INSERT INTO DETALLE_FACTURA VALUES (11522,21,700,NULL,NULL,0,15,10500);
INSERT INTO DETALLE_FACTURA VALUES (11523,2,12500,NULL,NULL,0,3,37500);
INSERT INTO DETALLE_FACTURA VALUES (11524,3,12990,null,null,50,6,58455);
INSERT INTO DETALLE_FACTURA VALUES (11525,15,10000,null,null,50,4,30000);
INSERT INTO DETALLE_FACTURA VALUES (11526,5,4950,NULL,NULL,0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11527,5,4950,NULL,NULL,0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11528,5,4950,NULL,NULL,0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11529,22,21900,null,null,0,1,21900);
INSERT INTO DETALLE_FACTURA VALUES (11530,24,27000,null,null,0,1,27000);


insert into BOLETA values (120,'6245678-1','12456778-1',to_date('22/01/2018'),119000,1,4,'DS4344', 'EM');
insert into BOLETA values (121,'7812354-2','10712354-2',to_date('22/01/2018'),177310,NULL,1,NULL,'EM');
insert into BOLETA values (122,'9912478-3','12456778-1',to_date('23/02/2018'),249186,2,3,NULL,'PA');
insert into BOLETA values (123,'14456789-4','11124678-3',to_date('24/02/2018'),44625,NULL,1,NULL,'EM');
insert into BOLETA values (124,'11245678-5','11124678-3',to_date('25/02/2018'),69561,2,4,NULL,'EM');
insert into BOLETA values (125,'6467708-6','10456789-4',to_date('26/02/2018'),35700,2,4,'4865', 'EM');
insert into BOLETA values (126,'10125945-7','12456778-1',to_date('27/02/2018'),35343,2,3,NULL,'PA');
insert into BOLETA values (127,'8125781-8','10712354-2',to_date('17/03/2018'),35343,NULL,1,NULL,'EM');
insert into BOLETA values (128,'13746912-9','10456789-4',to_date('17/03/2018'),35343,2,4,'S/N 36147','EM');
insert into BOLETA values (129,'5446780-0','12456778-1',to_date('18/03/2018'),26061,NULL,1,NULL,'EM');
insert into BOLETA values (130,'10812874-0','10456789-4',to_date('18/03/2018'),32130,NULL,1,NULL,'EM');

INSERT INTO DETALLE_BOLETA VALUES (120,1,25000,NULL,NULL,0,4,100000);
INSERT INTO DETALLE_BOLETA VALUES (121,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_BOLETA VALUES (121,19,2000,NULL,NULL,0,10,20000);
INSERT INTO DETALLE_BOLETA VALUES (122,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_BOLETA VALUES (122,16,6990,NULL,NULL,0,10,69900);
INSERT INTO DETALLE_BOLETA VALUES (122,21,700,NULL,NULL,0,15,10500);
INSERT INTO DETALLE_BOLETA VALUES (123,2,12500,NULL,NULL,0,3,37500);
INSERT INTO DETALLE_BOLETA VALUES (124,3,12990,null,null,50,6,58455);
INSERT INTO DETALLE_BOLETA VALUES (125,15,10000,null,null,50,4,30000);
INSERT INTO DETALLE_BOLETA VALUES (126,5,4950,NULL,NULL,0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (127,5,4950,NULL,NULL,0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (128,5,4950,NULL,NULL,0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (129,22,21900,null,null,0,1,21900);
INSERT INTO DETALLE_BOLETA VALUES (130,24,27000,null,null,0,1,27000);

INSERT INTO BONO_META VALUES(1,1,10000,2000);
INSERT INTO BONO_META VALUES(2,10001,20000,5000);
INSERT INTO BONO_META VALUES(3,20001,30000,8500);
INSERT INTO BONO_META VALUES(4,30001,40000,14000);
INSERT INTO BONO_META VALUES(5,40001,100000,20000);


create table proceso
(
  MES_ANNO VARCHAR2(10),
  fecha_proceso   date, primary key (MES_ANNO)
);

insert into proceso(mes_anno) values('012018');
insert into proceso(mes_anno) values('022018');
insert into proceso(mes_anno) values('032018');
/*
insert into proceso(mes_anno) values('042018');
insert into proceso(mes_anno) values('052018');
insert into proceso(mes_anno) values('062018');
insert into proceso(mes_anno) values('072018');
insert into proceso(mes_anno) values('082018');
insert into proceso(mes_anno) values('092018');
insert into proceso(mes_anno) values('102018');
insert into proceso(mes_anno) values('112018');
insert into proceso(mes_anno) values('122018');
*/


commit;